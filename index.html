<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">


    <title>Responsive Infinite Carousel</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />

      <link rel="stylesheet" type="text/css" href="design.css">

      <script type="text/javascript" src="http://use.typekit.net/kei2cfp.js"></script>
      <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  
        <script src="carousel/js/prefixfree.min.js"></script>

    
  </head>

  <body>

    <div class="wrapper wrapper--demo">
	<div class="carousel">
		<div class="carousel__content">
			<div class="item slide-0">
        <!-- <p class="title">First</p> -->
        <div class="wrapper">
            <canvas id="stage"></canvas>
      </div>
        <!-- <img src="http://placehold.it/1800x850/70AD96/FFF&text=&nbsp;" alt=""> -->
      </div>
			<div class="item slide-1">
        <button class="title">Pause</button>
        <video id="video-slide-1" class="vid" loop>
  <!-- WCAG general accessibility recommendation is that media such as background video play through only once. Loop turned on for the purposes of illustration; if removed, the end of the video will fade in the same way created by pressing the "Pause" button  -->

        <source src="son/video.mp4" type="video/mp4">
       </video>
       
        <!-- <video utoplay loop poster="../img/transition.jpg" src="../son/video.mp4" id="bgvideo" controls></video> -->
        <!-- <img src="http://placehold.it/1800x850/EA4E23/FFF&text=&nbsp;" alt=""> -->
      </div>

			<div class="item slide-2">
        <!-- <p class="title">Third</p> -->
        <!-- <video controls preload="metadata" id="video2">
         <source src="../video/explications.mp4" type="video/mp4">
         <track label="Sub" kind="subtitles" srclang="fr" data-rendering="playr" src="../video/explications2.vtt" id="Sub" default>
        </video> -->
        <button class="title">Pause</button>
        <video id="video-slide-2" class="vid">
  <!-- WCAG general accessibility recommendation is that media such as background video play through only once. Loop turned on for the purposes of illustration; if removed, the end of the video will fade in the same way created by pressing the "Pause" button  -->

        <source src="video/explications.mp4" type="video/mp4">
        <track label="Sub" kind="subtitles" srclang="fr" data-rendering="playr" src="video/explications2.vtt" id="Sub" default>
       </video>

        <!-- <video src="../video/explications.mp4" id="video2"></video> -->
        <script type="text/javascript">
                /*var player = document.querySelector('#video2');
                player.play();

                function play(idPlayer, control) {
                  var player = document.querySelector('#' + idPlayer);
                  
                  if (player.paused) {
                      player.play()
                      control.textContent = 'Pause';
                  } else {
                      player.pause(); 
                      control.textContent = 'Play';
                  }
              }

              function resume(idPlayer) {
                  var player = document.querySelector('#' + idPlayer);
                  
                  player.currentTime = 0;
                  player.pause();
              }*/
              </script>
        <!-- <img src="http://placehold.it/1800x850/9BA452/FFF&text=&nbsp;" alt=""> -->
      </div>

			<div class="item">
    
      <ul id="ul">
        <li><a id="a1" href="#" class="active">1</a></li>
        <li><a id="a2" href="#">2</a></li>
        <li><a id="a3" href="#">3</a></li>
        <li><a id="a" href="#">4</a></li>
        <li><a id="a" href="#">5</a></li>
        <li><a id="a" href="#">6</a></li>
        <li><a id="a" href="#">7</a></li>
        <li><a id="a" href="#">8</a></li>
        <li><a id="a" href="#">9</a></li>
        <li><a id="a" href="#">10</a></li>
        <li><a id="a" href="#">11</a></li>
      </ul>

      <div id="content">
        <!-- <video>
          <source id="changevid" src="../video/01.wikipedia.mp4" type="video/mp4">

        </video> -->
        <video id="video-slide-3" src="video/01.wikipedia.mp4"></video> 
      </div>
    
    <script>
       
    </script>

       <script type="text/javascript">
        ong1 = document.getElementById('a1');
        ong2 = document.getElementById('a2');
        ong3 = document.getElementById('a3');
        var video = document.getElementById('video-slide-3');
        var src = video.getAttribute('src');

        
 /*       contenu = document.getElementById('content');

        contenu.innerHTML = "article 1";*/

        function nonactive(){
          ong1.className = "";
          ong2.className = "";
          ong3.className = "";
        }

        function active(moi){
          nonactive(); // nettoyage
          moi.className="active"; // je deviens active
        }

        ong1.addEventListener("click",function(){
          video.setAttribute('src', 'video/01.wikipedia.mp4');
          active(this);
        })

        ong2.addEventListener("click",function(){
          video.setAttribute('src', 'video/explications.mp4');
          active(this);
        })

        ong3.addEventListener("click",function(){
          video.setAttribute('src', 'video/explications.mp4');
          active(this);
        })
       </script>
     
    <!-- <video id="video" controls preload="metadata">
     <source src="../video/01.wikipedia.mp4" type="video/mp4">
     <source src="../video/01.wikipedia.webm" type="video/webm"> 
     <track label="Sub" kind="subtitles" srclang="fr" data-rendering="playr" src="../video/01.wikipedia.vtt" default>
    </video>- ->


    <!--     <video width="1000" height="750" controls="controls" poster="video-hostellerie.jpg" onclick="this.play();">
       <source src="../video/01.wikipedia.mp4" type="video/mp4" /> -->
       <!-- <source src="video-hostellerie.webm" type="video/webm"  /> -->
          <!-- <object type="application/x-shockwave-flash"
         codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,79,0" 
         width="426" 
         height="240" 
         data="player.swf"
         id="FLVPlayer">
          <param name="movie" value="player.swf" />
          <param name="allowscriptaccess" value="always" />
          <param name="allowfullscreen" value="true" />
          <param name="FlashVars" value="flv=video-hostellerie.mp4&startimage=video-hostellerie.jpg
          &showstop=1&showvolume=1&showtime=1" /> -->
      <!--   <p>Vous n'arrivez pas à visionner la vidéo : vous pouvez la 
        <a href="video-hostellerie.mp4">télécharger</a>.</p>
        </object> -->
      <!-- </video> -->
        <!-- <video src="../video/01.wikipedia.mp4" id="vid" controls></video> -->
        <!-- <p class="title">Fourth</p> -->
        <!-- <img src="http://placehold.it/1800x850/472D38/FFF&text=&nbsp;" alt=""> -->
      </div>
			<div class="item">
        <p class="title">Fifth</p>
        <img src="http://placehold.it/1800x850/F77C85/FFF&text=&nbsp;" alt="">
      </div>
			<div class="item">
        <p class="title">Sixth</p>
        <p class="title title--sub">Last Item</p>
        <img src="http://placehold.it/1800x850/00FFAE/FFF&text=&nbsp;" alt="">
      </div>
		</div>
    
    <div class="carousel__nav">
      <a href="#" class="nav nav--left">Précédent</a>
      <a href="#" class="nav nav--right">Suivant</a>
    </div>
    
	</div>
</div>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='http://cdnjs.cloudflare.com/ajax/libs/jquery.transit/0.9.9/jquery.transit.min.js'></script>

        <script src="carousel/js/index.js"></script>

    <!-- Glitch -->
      <script type="text/javascript">
        (function() {
          "use strict";
          var textSize = 10;
          var glitcher = {

          init: function () {
            setTimeout((function () {
            this.canvas = document.getElementById('stage');
            this.context = this.canvas.getContext('2d');

            this.initOptions();
            this.resize();
            this.tick();
            }).bind(this), 100);
          },

          initOptions: function () {
            this.text = "Datatopia 3.0";

            this.fps = 60;

            this.channel = 0; // 0 = red, 1 = green, 2 = blue
            this.compOp = 'lighter'; // CompositeOperation = lighter || darker || xor
            this.phase = 0.0;
            this.phaseStep = 0.05; //determines how often we will change channel and amplitude
            this.amplitude = 0.0;
            this.amplitudeBase = 2.0;
            this.amplitudeRange = 2.0;
            this.alphaMin = 0.8;

            this.glitchAmplitude = 20.0;
            this.glitchThreshold = 0.9;
            this.scanlineBase = 40;
            this.scanlineRange = 40;
            this.scanlineShift = 15;
          },

          tick: function () {
            setTimeout((function () {
            this.phase += this.phaseStep;

            if (this.phase > 1) {
              this.phase = 0.0;
              this.channel = (this.channel === 2) ? 0 : this.channel + 1;
              this.amplitude = this.amplitudeBase + (this.amplitudeRange * Math.random());
            }

            this.render();
            this.tick();

            }).bind(this), 1000 / this.fps);
          },

          render: function () {
            var x0 = this.amplitude * Math.sin((Math.PI * 2) * this.phase) >> 0,
            x1, x2, x3;

            if (Math.random() >= this.glitchThreshold) {
            x0 *= this.glitchAmplitude;
            }

            x1 = this.width - this.textWidth >> 1;
            x2 = x1 + x0;
            x3 = x1 - x0;


            this.context.clearRect(0, 0, this.width, this.height);
            this.context.globalAlpha = this.alphaMin + ((1 - this.alphaMin) * Math.random());

            switch (this.channel) {
            case 0:
              this.renderChannels(x1, x2, x3);
              break;
            case 1:
              this.renderChannels(x2, x3, x1);
              break;
            case 2:
              this.renderChannels(x3, x1, x2);
              break;
            }
            this.renderScanline();
            if (Math.floor(Math.random() * 2) > 1) {
              this.renderScanline();
              // renders a second scanline 50% of the time
            }
          },

          renderChannels: function (x1, x2, x3) {
            this.context.font = this.font;
            this.context.fillStyle = "rgb(255,0,0)";
            this.context.fillText(this.text, x1, this.height / 2);

            this.context.globalCompositeOperation = this.compOp;

            this.context.fillStyle = "rgb(0,255,0)";
            this.context.fillText(this.text, x2, this.height / 2);
            this.context.fillStyle = "rgb(0,0,255)";
            this.context.fillText(this.text, x3, this.height / 2);
          },

          renderScanline: function () {
            var y = this.height * Math.random() >> 0,
            o = this.context.getImageData(0, y, this.width, 1),
            d = o.data,
            i = d.length,
            s = this.scanlineBase + this.scanlineRange * Math.random() >> 0,
            x = -this.scanlineShift + this.scanlineShift * 2 * Math.random() >> 0;

            while (i-- > 0) {
            d[i] += s;
            }

            this.context.putImageData(o, x, y);
          },

          resize: function () {
            this.width = document.documentElement.offsetWidth;
            //this.height = window.innerHeight;
              this.height = document.documentElement.offsetHeight;
            if (this.canvas) {
            this.canvas.height = this.height;
            //document.documentElement.offsetHeight;
            this.canvas.width = this.width;
            //document.documentElement.offsetWidth;
            this.textSize = Math.floor(this.canvas.width / 14);
            // RE-sets text size based on window size
            if (this.textSize > this.height) {
              this.textSize = Math.floor(this.canvas.height/1.5); }
              // tries to make text fit if window is
              // very wide, but not very tall
            this.font = '900 ' + this.textSize + 'px "Avara"';
            this.context.font = this.font;
            this.textWidth = (this.context.measureText(this.text)).width;
            }
          }
          };

          document.onload = glitcher.init();
          window.onresize = glitcher.resize();
          glitcher.resize();
          // return;
         // executes anonymous function onload
        })();
      </script>
      <!-- End Glitch -->

      <!-- pause Video Full screen -->
      <script>
      /*window.onSlideChange = function(index) {
        console.log("SLIDING TO", index);
        var video1 = document.getElementById("video-slide-1");
        var video2 = document.getElementById('video-slide-2');
        var video3 = document.getElementById('video-slide-3');
        
        pause1 = document.getElementById('p1');
        pause2 = document.getElementById('p2');
        pause3 = document.getElementById('p3');*/
        
 /*       contenu = document.getElementById('content');

        contenu.innerHTML = "article 1";*/

        /*function nonactive(){
          pause1.className = "";
          pause2.className = "";
          pause3.className = "";
        }

        function active(moi){
          nonactive(); // nettoyage
          moi.className="active"; // je deviens active
        }

        if(index == 1){
          var pause1 = moi.className="active2";
          var video1 = moi.className="active3";
        }else{
          nonactive();
        }

        if(index == 2){
          var pause2 = moi.className="active2";
          var video2 = moi.className="active3";
        }else{
          nonactive();
        }

        if(index == 3){
          var pause3 = moi.className="active2";
          var video3 = moi.className="active3";
        }else{
          nonactive();
        }
      }*/

        /*pause1.addEventListener("window",function(){
          video.setAttribute('id', 'vid');
          active(this);
        })

        pause2.addEventListener("window",function(){
          video.setAttribute('id', 'vid');
          active(this);
        })

        pause3.addEventListener("window",function(){
          var vid = video.setAttribute('id', 'vid');
          active(this);
        })*/

      var vid = document.getElementsByTagName("video")
      var pauseButton = document.getElementsByTagName("button");
      function vidFade() {
      vid.classList.add("stopfade");
      }
      
      pauseButton.addEventListener("click", function() {
      vid.classList.toggle("stopfade");
      if (vid.paused) {
      vid.play();
      pauseButton.innerHTML = "Pause";
      } else {
      vid.pause();
      pauseButton.innerHTML = "Lecture";
      }
      })

      </script>
    <!-- pause Video Full screen -->
    
    <script>
      // Auto start videos
      window.onSlideChange = function(index) {
        console.log("SLIDING TO", index);
        var videoSlide1 = document.getElementById("video-slide-1");
        if (index == 1) {
          videoSlide1.play();
        }
        else {
          videoSlide1.pause();
        }

        var videoSlide2 = document.getElementById("video-slide-2");
        if (index == 2) {
          videoSlide2.play();
        }
        else {
          videoSlide2.pause();
        }

        var videoSlide3 = document.getElementById("video-slide-3");
        if (index == 3) {
          videoSlide3.play();
        }
        else {
          videoSlide3.pause();
        }
      }
    </script>
  </body>
</html>
